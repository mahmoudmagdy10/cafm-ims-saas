<ng-container *ngIf="itemEdit$ | async as item">
  <div class="modal-header position-relative">
    <h5 class="modal-title" *ngIf="item">{{ item?.TaskName }}</h5>
    <!--begin::Close-->
    <div class="close">
      <i class="fas fa-times close-modal-icon" (click)="Close()"></i>
    </div>
    <!--end::-->
  </div>

  <!-- begin dialog body -->
  <div class="modal-body" style="max-height: 80vh; overflow-y: auto">
    <p-tabView [activeIndex]="IsUpComing ? 4 : 0">
      <!-- تاب البيانات الاساسية -->
      <p-tabPanel header="{{ 'PM.MODAL.PM_CARD.BASIC_DATA' | translate }}" *ngIf="!dataPmCard.isCommingFromPPMTask">
        <app-basic-data-SopTemplate [itemEdit]="item"></app-basic-data-SopTemplate>
      </p-tabPanel>

      <!-- تاب تعديل التعليمات -->
      <p-tabPanel header="{{ 'PM.MODAL.PM_CARD.EDIT_INSTRUCTIONS' | translate }}">
        <div *ngIf="item.ID">
          <edit-instruction-SopTemplate></edit-instruction-SopTemplate>
        </div>
      </p-tabPanel>
      <p-tabPanel *ngIf="!dataPmCard.isCommingFromPPMTask" leftIcon="p-tabview-left-icon fa fa-clipboard-list mx-1"
        header="{{
          'PREVENTIVE_TASKS_MANAGEMENT.MODALS.TASK_MODAL.SPAREPARTS_USED_IN_MAINTENANCE_TAB.TAB_TITLE'
            | translate
        }}">
        <spare-part-in-Template-SOP [dataEdit]="item"></spare-part-in-Template-SOP>
      </p-tabPanel>


    </p-tabView>
  </div>

  <div class="modal-footer position-relative">
    <!-- <button type="button" class="btn  btn-primary" data-bs-dismiss="modal">
    <span>
      <span> <i class="fa fa-save"></i> </span>
      <span> {{ "GENERAL.SAVE" | translate }} </span>
    </span>
  </button> -->

    <button type="button" class="btn  btn-light" data-bs-dismiss="modal" (click)="Close()">
      <span>
        <span> <i class="fa fa-times" (click)="Close()"></i> </span>
        <span> {{ "GENERAL.CANCEL" | translate }} </span>
      </span>
    </button>

    <i class="fas fa-cogs modal-bg-icon"></i>
  </div>
</ng-container>