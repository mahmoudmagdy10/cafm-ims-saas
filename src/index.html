<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta tags for character set, title, base URL, and viewport settings -->
  <meta charset="utf-8" />
  <title>CAFM-IMS</title>
  <base href="/" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Favicon -->
  <link rel="shortcut icon" href="./assets/media/LogoForIcon.png" />

  <!-- Google Fonts -->
  <link href="//fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet" />

  <!-- SPLASH SCREEN Styles -->
  <link rel="stylesheet" id="layout-styles-anchor" href="./assets/splash-screen.css" />

  <!-- Additional Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400" rel="stylesheet" />

  <!-- Custom Stylesheets -->
  <link rel="stylesheet" href="./assets/assets-style.css" />
  <link rel="stylesheet" href="./assets/general-style.css" />
  <!-- Uncomment the line below if custom styles for right-to-left layout are needed -->
  <!-- <link rel="stylesheet" href="./assets/custom-rtl.css" /> -->
</head>

<body root id="kt_body">
  <!-- SPLASH SCREEN -->
  <div id="splash-screen" class="splash-screen">
    <img src="./assets/media/LogoForIcon.png" alt="Metron ic logo" width="80px" height="80px" />
    <span>...Loading </span>
  </div>

  <!-- Language and direction script -->
  <!-- <script type="text/javascript" src="test.ts"></script> -->
  <script>
    // Set language and direction based on local storage
    var html = document.getElementsByTagName("html")[0];
    const lang = window.localStorage.getItem("language");
    html.lang = lang;
    html.dir = lang == "en" ? "ltr" : "rtl";
    html.style = lang == "en" ? "direction: ltr" : "direction: rtl";
    html.direction = lang == "en" ? "ltr" : "rtl";

    // If the language is right-to-left, include custom styles for RTL layout
    if (html.dir == "rtl") {
      document.write('<link rel="stylesheet" href="./assets/custom-rtl.css" />');
    }
  </script>

  <!-- External scripts -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&v=weekly"></script>
  <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>

  <!-- Hotjar script -->
  <script>
    (function (h, o, t, j, a, r) {
      h.hj =
        h.hj ||
        function () {
          (h.hj.q = h.hj.q || []).push(arguments);
        };
      h._hjSettings = { hjid: 3489365, hjsv: 6 };
      a = o.getElementsByTagName("head")[0];
      r = o.createElement("script");
      r.async = 1;
      r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
      a.appendChild(r);
    })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
  </script>

  <!-- Conditional scripts based on local storage -->
  <script>
    if (localStorage.getItem("token")) {
      // Uncomment and add your FreshworksWidget script here if needed
    } else {
      // Load external script for non-public pages
      if (!window.location.href?.includes("public")) {
        const script = document.createElement("script");
        script.src = "//fw-cdn.com/2482593/3046220.js";
        script.chat = true;
        document.body.appendChild(script);
      }
    }
  </script>
</body>
</html>
